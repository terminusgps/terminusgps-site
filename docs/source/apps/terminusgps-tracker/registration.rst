Registration Flow
=================

1. `token_login`_

    Login with token generated by Admin Token user, operate as Admin Token user #27881459.

    +---------------+---------------------------------------------------------------------------------------+
    | Parameter     | Value                                                                                 |
    +===============+=======================================================================================+
    | ``token``     | :confval:`WIALON_TOKEN`                                                               |
    +---------------+---------------------------------------------------------------------------------------+
    | ``operateAs`` | :confval:`WIALON_ADMIN_ID`                                                            |
    +---------------+---------------------------------------------------------------------------------------+
    | ``fl``        | :py:data:`0x3`                                                                        |
    +---------------+---------------------------------------------------------------------------------------+

2. `core_create_user`_

    Create user #22222222. This user is the "super" or owner user.

    +----------------------+------------------------------------------------+
    | Parameter            | Value                                          |
    +======================+================================================+
    | ``creatorId``        | :confval:`WIALON_ADMIN_ID`                     |
    +----------------------+------------------------------------------------+
    | ``name``             | :py:data:`account_dylanlifemancer@gmail.com`   |
    +----------------------+------------------------------------------------+
    | ``password``         | :py:data:`Terminus#1`                          |
    +----------------------+------------------------------------------------+

3. `core_search_item`_

    Search for item #22222222.

    +---------------+---------------------+
    | Parameter     | Value               |
    +===============+=====================+
    | ``id``        | :py:data:`22222222` |
    +---------------+---------------------+
    | ``fl``        | :py:data:`0x1`      |
    +---------------+---------------------+

4. `core_create_resource`_

    Create resource #11111111. This resource is the account.

    +----------------------+-------------------------------------------------+
    | Parameter            | Value                                           |
    +======================+=================================================+
    | ``creatorId``        | :py:data:`22222222`                             |
    +----------------------+-------------------------------------------------+
    | ``name``             | :py:data:`account_dylanlifemancer@gmail.com`    |
    +----------------------+-------------------------------------------------+
    | ``dataFlags``        | :py:data:`0x1`                                  |
    +----------------------+-------------------------------------------------+
    | ``skipCreatorCheck`` | :py:data:`1`                                    |
    +----------------------+-------------------------------------------------+

5. `core_search_item`_

    Search for item #11111111.

    +---------------+---------------------+
    | Parameter     | Value               |
    +===============+=====================+
    | ``id``        | :py:data:`11111111` |
    +---------------+---------------------+
    | ``fl``        | :py:data:`0x1`      |
    +---------------+---------------------+




6. `core_create_user`_

    Create user #33333333. This user is the end user.

    +----------------------+--------------------------------------+
    | Parameter            | Value                                |
    +======================+======================================+
    | ``creatorId``        | :confval:`WIALON_ADMIN_ID`           |
    +----------------------+--------------------------------------+
    | ``name``             | :py:data:`dylanlifemancer@gmail.com` |
    +----------------------+--------------------------------------+
    | ``password``         | :py:data:`Terminus#1`                |
    +----------------------+--------------------------------------+

7. `core_search_item`_

    Search for item #33333333.

    +---------------+---------------------+
    | Parameter     | Value               |
    +===============+=====================+
    | ``id``        | :py:data:`33333333` |
    +---------------+---------------------+
    | ``fl``        | :py:data:`0x1`      |
    +---------------+---------------------+

8. `core_create_unit_group`_

    Create unit group #44444444. This unit group is intended for mass command execution convenience, e.g. subscription commands, enabling/disabling.

    +----------------------+--------------------------------------------+
    | Parameter            | Value                                      |
    +======================+============================================+
    | ``creatorId``        | :confval:`WIALON_ADMIN_ID`                 |
    +----------------------+--------------------------------------------+
    | ``name``             | :py:data:`group_dylanlifemancer@gmail.com` |
    +----------------------+--------------------------------------------+
    | ``password``         | :py:data:`Terminus#1`                      |
    +----------------------+--------------------------------------------+

9. `core_search_item`_

    Search for item #44444444.

    +---------------+---------------------+
    | Parameter     | Value               |
    +===============+=====================+
    | ``id``        | :py:data:`44444444` |
    +---------------+---------------------+
    | ``fl``        | :py:data:`0x1`      |
    +---------------+---------------------+

10. `account_create_account`_

    Create account from resource #11111111. This is the actual Wialon "account" creation step.

    +------------+----------------------------------+
    | Parameter  | Value                            |
    +============+==================================+
    | ``itemId`` | :py:data:`11111111`              |
    +------------+----------------------------------+
    | ``plan``   | :py:data:`terminusgps_ext_hist`  |
    +------------+----------------------------------+

11. `account_enable_account`_

    Enable account from resource #11111111.

    +------------+---------------------+
    | Parameter  | Value               |
    +============+=====================+
    | ``itemId`` | :py:data:`11111111` |
    +------------+---------------------+
    | ``enable`` | :py:data:`1`        |
    +------------+---------------------+

=====
Views
=====

1. GET :literal:`/signup/`

    Gets the signup form.

2. POST :literal:`/signup/`

    Submits the signup form.

3. GET :literal:`/profile/`

    Gets the user's profile.


====================
Wialon API Endpoints
====================

+---------------------------+
| Name                      |
+===========================+
| `token_login`_            |
+---------------------------+
| `core_search_item`_       |
+---------------------------+
| `core_create_resource`_   |
+---------------------------+
| `core_create_user`_       |
+---------------------------+
| `core_create_unit_group`_ |
+---------------------------+
| `account_create_account`_ |
+---------------------------+
| `account_enable_account`_ |
+---------------------------+

.. _token_login: https://sdk.wialon.com/wiki/en/sidebar/remoteapi/apiref/token/login
.. _core_search_item: https://sdk.wialon.com/wiki/en/sidebar/remoteapi/apiref/core/search_item
.. _core_create_resource: https://sdk.wialon.com/wiki/en/sidebar/remoteapi/apiref/core/create_resource
.. _core_create_unit_group: https://sdk.wialon.com/wiki/en/sidebar/remoteapi/apiref/core/create_unit_group
.. _core_create_user: https://sdk.wialon.com/wiki/en/sidebar/remoteapi/apiref/core/create_user
.. _account_create_account: https://sdk.wialon.com/wiki/en/sidebar/remoteapi/apiref/account/create_account
.. _account_enable_account: https://sdk.wialon.com/wiki/en/sidebar/remoteapi/apiref/account/enable_account
