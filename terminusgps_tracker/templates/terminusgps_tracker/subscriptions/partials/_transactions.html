{% load tz %}
<section id="transactions" class="flex flex-col gap-4">
    <h2 class="text-center text-lg font-semibold">Transaction History</h2>
    {% if transaction_list|length != 0 %}
    <div class="relative overflow-x-auto">
        <table class="w-full text-left text-sm text-gray-500 rtl:text-right dark:text-gray-400">
            <thead class="bg-gray-50 text-xs text-gray-700 uppercase dark:bg-gray-700 dark:text-gray-400">
                <tr>
                    <th scope="col" class="px-6 py-3">
                        Payment
                    </th>
                    <th scope="col" class="px-6 py-3">
                        Date + Time
                    </th>
                    <th scope="col" class="px-6 py-3">
                        Amount
                    </th>
                    <th scope="col" class="px-6 py-3">
                        Result
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for t in transaction_list %}
                <tr id="{{ t.transId }}" class="group border-b border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800" hx-get="{% url 'tracker:transaction detail' t.transId %}" hx-target="this" hx-trigger="load">
                    <td class="animate-pulse bg-gray-600 px-6 py-4 group-odd:bg-gray-400">
                    </td>
                    <th class="animate-pulse bg-gray-600 px-6 py-4 group-odd:bg-gray-400">
                    </th>
                    <td class="animate-pulse bg-gray-600 px-6 py-4 group-odd:bg-gray-400">
                    </td>
                    <td class="animate-pulse bg-gray-600 px-6 py-4 group-odd:bg-gray-400">
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <p class="text-center">There's nothing here...</p>
    {% endif %}
</section>
<section id="buttons" class="flex flex-col gap-2" hx-indicator='.htmx-indicator'>
    <button class="w-full cursor-pointer rounded border border-gray-600 bg-gray-300 p-2 text-center text-gray-700 transition-colors duration-300 ease-in-out hover:bg-gray-200 dark:border-gray-400" hx-get="{{ subscription.get_absolute_url }}" type="button"> <div class="flex items-center justify-center gap-2">
        <div class="flex items-center justify-center gap-2">
            <div class="htmx-indicator group">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="hidden size-6 animate-spin group-[.htmx-request]:flex">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
                </svg>
            </div>
            <p>Back</p>
        </div>
    </button>
</section>
